<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>상위 5위 공지사항 조회수</title>
    <script type="text/javascript" src="chart_utils.js"></script>
</head>
<body>

<div style="width: 80%; margin: auto;">
    <canvas id="myChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const ctx = document.getElementById('myChart');
    // const NUMBER_CFG = labels.map(() => Math.floor(Math.random() * 10));
    const DATA_COUNT = 5;
    const NUMBER_CFG = {count: DATA_COUNT, min: 0, max: 15};

    const labels =  Samples.utils.bulletin({count: 5});
    const data = {
        labels: labels,
        datasets: [
            {
                label: '인기도',
                data:   Samples.utils.numbers(NUMBER_CFG),
                borderColor: 'grey',
                backgroundColor: colors,
                borderWidth: 2,
                borderRadius: Number.MAX_VALUE,
                borderSkipped: false
            },
            // {
            //     label: 'Dataset 2',
            //     data: utils.numbers(NUMBER_CFG),
            //     borderColor: utils.CHART_COLORS.blue,
            //     backgroundColor: utils.transparentize(utils.CHART_COLORS.blue, 0.5),
            // }
        ]
    };

    new Chart(ctx,
        {
            type: 'bar',
            data: data,
            options: {
                indexAxis: 'y',
                elements: {
                    bar: {
                        borderWidth: 2,
                    }
                },
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                    },
                    title: {
                        display: true,
                        text: '공지사항 조회순'
                    }
                },
                responsive: true,
                scales: {
                    x: {
                        display: true,

                        title: {
                            display: true,
                            text: '',
                            color: '#116099',
                            font: {
                                size: 15,
                                weight: 'normal',
                                lineHeight: 1.2,
                            },
                            padding: {top: 20, left: 0, right: 0, bottom: 0}
                        }
                    },
                    y: {
                        display: true,
                        title: {
                            display: true,
                            text: '',
                            color: '#506dad',
                            font: {
                                // family: 'Times',
                                size: 15,
                                style: 'normal',
                                lineHeight: 1.2
                            },
                            padding: {top: 30, left: 0, right: 0, bottom: 0}
                        }
                    }
                }

            },
        }
    );

    // function updateData() {
    //     const newData = salesChart.data.datasets[0].data.map(value => value + Math.floor(Math.random() * 3));
    //     salesChart.data.datasets[0].data = newData;
    //     salesChart.update(); // 차트 업데이트
    // }
    //
    // // 2초마다 데이터 업데이트
    // setInterval(updateData, 2000);

</script>


</body>
</html>