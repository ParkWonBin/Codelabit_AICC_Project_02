<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/bulletin/css/bulletinDetail.css">
    <%- alertMsg? `<script>alert("${alertMsg}")</script>` : '' %>
    <title><%= title %></title>
    <style>
    </style>
</head>
<body>

<div class="post-container">
    <!-- 게시글 내용 -->
    <div class="post-content">
        <h2 class="post-title">제목 : <%= title %></h2>
        <p class="post-author">작성자: <%= writerName %>(<%= writerId %>)</p>
        <p class="post-date">작성일: <%= created_at %></p>
        <p class="post-date">조회수: <%= views %></p>
        <hr>
        <h3 class="post-title">본문</h3>
        <p><%- content %></p>
    </div>

    <!-- 댓글 -->
    <div class="post-comments">
        <h3 class="post-title">댓글</h3>
        <% if (commentTree && commentTree.length > 0) { %>
            <% commentTree.forEach(comment => { %>
                <div class="comment">
                    <p class="post-author"><strong><%= comment.writerName %></strong></p>
                    <p><%= comment.content %></p>
                </div>
            <% }); %>
        <% } else { %>
            <p>댓글이 없습니다.</p>
        <% } %>
    </div>
</div>

<!--  이전 게시판으로 돌아가기 -->
<div class="bottoms">
    <a href="/bulletin/" class="button">게시판</a>
    <% if (userId === writerId) { %>
        <!--   본인이 쓴 게시글이면 수정 삭제 가능하도록   -->
        <a href="/bulletin/edit?postId=<%= postId %>" class="button">수 정</a>
        <form action="/bulletin/delete/<%= postId %>" method="post" style="display: inline; flex:1;">
            <button type='submit' class="button" style="width:100%; height:100%" >삭 제</button>
        </form>
    <% } %>
</div>

</body>
</html>
