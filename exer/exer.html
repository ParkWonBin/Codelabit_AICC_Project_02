<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Slider</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="slider">
    <div id="imgSlider">
        <img src="./images/image1.jpg" alt="Image 1">
        <img src="./images/image2.jpg" alt="Image 2">
        <img src="./images/image3.jpg" alt="Image 3">
    </div>
    <button class="prev" onclick="prevSlide()">Previous</button>
    <button class="next" onclick="nextSlide()">Next</button>
</div>
<button id="autoPlay" onclick="autoPlay()">자동재생</button>
<script>
    let autoPlayObject = null;
    const element_autoplay = document.getElementById('autoPlay');
    function autoPlay() {
        if (autoPlayObject === null) {
            autoPlayObject = setInterval(nextSlide, 1000); // 1초마다 실행
            element_autoplay.textContent = "멈춤"
        } else {
            clearInterval(autoPlayObject); // 이미 실행 중인 경우 인터벌 제거
            autoPlayObject = null; // autoPlayObject를 초기화하여 다시 시작할 수 있도록 설정
            element_autoplay.textContent = "자동재생"
        }
    }

    const img_width= 250
    let current_position = 0; // current_index의 값을 설정해야 합니다.

    const element_imgSlider = document.getElementById('imgSlider');
    function nextSlide() {
        current_position = current_position - img_width
        if (current_position < -3*img_width) {
            current_position = 0
        }
        // 애니메이션을 위한 CSS transition 설정
        element_imgSlider.style.transition = 'margin-left 0.3s';

        // marginLeft 속성 값을 설정하여 이동
        element_imgSlider.style.marginLeft = `${current_position}px`;
    }

    function prevSlide() {
        current_position = current_position + img_width
        if (current_position > 3*img_width) {
            current_position = 0
        }
        // 애니메이션을 위한 CSS transition 설정
        element_imgSlider.style.transition = 'margin-left 0.3s';

        // marginLeft 속성 값을 설정하여 이동
        element_imgSlider.style.marginLeft = `${current_position}px`;
    }

</script>
<script src="script.js"></script>
</body>
</html>
